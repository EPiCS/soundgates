
\chapter{Workplan}
\label{chapter:Workplan}
%We are developing our system in an agile development process. Therefore we created different milestones, which are based on Use-Cases. Every milestone represents a functionally %working version of our whole system whereas the last milestone includes every single functionality. Testing is also done in between those milestones to guarantee a working system. 

\section{Overview}

%Mention our different milestones with their due dates. A Gantt Diagram would be fancy as hell.

The whole project is divided into multiple milestones. Each milestones consists of set of tasks. One milestone must be completed before another milestone can start.

\section{Milestones}

Five milestones are planned, where each milestones should be completed in approximately five to six weeks. Depending on the set of tasks in each milestone, some may consume more time, some less.

\subsection{Milestone 1 - Prototyping infrastructure/environment}

The fundamental infrastructure to achieve the project objectives is prototyped in the first milestone. This involves three basic tasks:

\begin{enumerate}
	\item prototype a graphical design environment (editor) for signal\footnote{The term "signal" is restricted to audio signals by the application domain} generation and signal processing components. 
	\item prototype a simulation environment to simulate a patch created with the editor
	\item prototype a hardware infrastructure such as digital-to-analog (dac) controller, (rotary) switches and an interface to a external sensors (Reconos)
\end{enumerate}

The goal of this milestone is not to have a complete working toolflow, but to have a quick start of the development. 
At the end of this milestone one should be able to open an editor and add/connect dummy components. 
The dummy components representing signal/audio processing components in later stages of development. 
The system of dummy components, refereed to as patch, can be exported to a simulator. The simulator will playback the patch on the editors host-pc. 
In addition to the software-side there will exist a working interface for the \ac{FPGA} expansion board components at the end of this milestone, written in an HDL language. 
For testing purposes and later evaluation, it will be possible to interface the expansion board components with the Reconos operating system.

In detail the basic tasks can be further subdivided:

\begin{enumerate}
%--------------------------------------------------------------------
	\item Editor prototype
		\begin{itemize}
			\item Implementation of a basic meta-model
			\item The editor prototype should implement at least the following basic features:
				\begin{itemize}
					\item Create/delete dummy sound-components
					\item Connect/disconnect dummy sound-components
					\item Save and load a model (patch)
					\item Serialize the patch to a human readable format (e.g \ac{XML})
				\end{itemize}
			\item Create at least two sound-components: a waveform generator component (sine/square) and an audio output component
		\end{itemize}
%--------------------------------------------------------------------		
	\item Simulator prototype
		\begin{itemize}
			\item Evaluate JAVA-Sound API
			\item Design a framework
			\item Proof-of-concept implementation
			\begin{itemize}
				\item Import a patch-file
				\item Simulate system input
			\end{itemize}
		\end{itemize}
%--------------------------------------------------------------------
	\item Hardware prototype
		\begin{itemize}
			\item Setup Reconos development environment
			\item Prototype I/O expansion interface
			\begin{itemize}
				\item Create the DAC-controller and a correspondent testbench
				\item Rotary switch should work
			\end{itemize}
			\item Setup communication between a host-pc and reconos
			\item Encapsulate access to the XILINX \ac{FPGA}-Toolchain (e.g. Eclipse plugin)
		\end{itemize}
\end{enumerate}


\subsection{Milestone 2 - Prototype of a digital synthesizer}

In the second milestone more features will be added to the whole system. 
The goal of this milestone should be, that a basic digital synthesizer system can be modeled by using the soundgate editor toolkit. 
The user will find basic components, known from digital signal processing (constants, adders, multiplicators, delays, ...), in the editors sound-component library as well as components which represent external interfaces (DAC-Audio-Output, basic sensors likes (rotary) switches).
 With these components it will be possible for a user to alter audio-signals in a signal processing manner and listen to the result on the \ac{COSMIC} system. 
 The interaction with the system is restricted to the basic sensors, mentioned in milestone one. The following list represents the set of tasks to achieve the suggested goal.

	\begin{enumerate}
		\item Editor
			\begin{itemize}
				\item Add the ability to plugin new sound-components into the editor
				\item Add the ability to pass a patch to a codegeneration unit
				\item Add the ability to mark the input of a sound-component instance as an interactive parameter
			\end{itemize}
		\item Basic sensor interaction
			\begin{itemize}
				\item It should be possible to adjust a parameter with a sensor, that is attached to the I/O expansion board
			\end{itemize}
		\item Codegeneration	
			\begin{itemize}
				\item Transform a patch to a synthesizable HDL description
				\item Import of existing HW-Framework components (e.g. \ac{DAC}, switches)
			\end{itemize}
		\item Implement a set of basic atomic blocks
			\begin{itemize}
				\item wave generator (saw, square, sine)
				\item multiplication
				\item addition
				\item constants
				\item ramp generator
			\end{itemize}
	\end{enumerate}

\subsection{Milestone 3 - Polishing editing environment}

At the third milestone it should be possible for a musician to emulate the sound of an analog synthesizer. 
To achieve this, the editor will provide abstract sound-components a musician is familiar with (such as a mixer, waveform generators, filters, envelope generators,...), in the component library. 
With this a musician will be able to create a patch and export it to the \ac{COSMIC} system by simply starting an export process. 
The musician will be informed on the progress of the export process. 
Furthermore a musician will be able to create his own sound-components in order to share them with others and import them accordingly.

	\begin{enumerate}
		\item Editor
			\begin{itemize}
				\item Add the ability to create composite sound-components
				\item Add the ability to import/export composite sound-components in a portable format
				%\item Add the ability to upload awesome sound-components to community platform %
			\end{itemize}
		\item Complex sensor interaction
			\begin{itemize}
				%\item Evaluate motion capture sensors for an application in the \ac{COSMIC} system
				\item Create an Android application to stream sensor data from a smartphone to the \ac{COSMIC} system.
			\end{itemize}
		\item Implement additional audio processing components	
			\begin{itemize}
				\item Filter: Low/High/Band-pass filters components
				\item Mixer: a component that mixes and weights multiple inputs into a single output signal
				\item Amplifier: a component that amplifies a signal by a certain input parameter
				\item Envelope Generator: a component to control the \ac{ADSR} time of a signal
				\item Sample and Hold: a component that samples an input signal provides it as an output signal
				\item Noise Generators: a component that creates white/pink noise
			\end{itemize}
		\item Create/evaluate different presets and sample patches
	\end{enumerate}
	
\subsection{Milestone 4 - System integration and benchmarking}

The fourth milestone is focussing on a fully integrated system and benchmarking.
When the milestone is reached, a musician will be able to create or import a patch and download it to the \ac{COSMIC} system. 
Multiple users will be able to connect to the \ac{COSMIC} system by their smartphones and interact with it. 
Due to hardware (area) constraints of the \ac{COSMIC} system this milestones is also exploring its limitations. 
This is done by benchmarking the system in terms of large patches, many users with different sensors and so on. 
This benchmark will be fed back to the editor environment to give musicians/designers the ability to estimate how their patch will perform. 
Also, it will open an opportunity to make optimizations on different aspects of the system such as sound-components and sensor applications.

	\begin{enumerate}
		\item Benchmarking
			\begin{itemize}
				\item Evaluate the system with various users
				\item Create large patches with many sound-components
			\end{itemize}
		\item Hardware
			\begin{itemize}
				\item Benchmark sound-components by their area and performance
				\item Perform optimizations based on the benchmark results
			\end{itemize}
		\item Editor
			\begin{itemize}
				\item Add area information to atomic sound-components
				\item Add the ability to estimate the area consumption of composite components
				\item Add the ability to estimate the area consumption on the \ac{COSMIC} system
			\end{itemize}
	\end{enumerate}

\subsection{Milestone 5 - Documentation, Testing, Presentation}

The fifth milestone is designed to polish different aspects of the system. 
One aspect targets the documentation of the editor, sound-components and the \ac{COSMIC} system. 
Although all system-level components will be documented during development, these documents are just fragments of a bigger picture. 
These fragments will be gathered and assembled into a well understandable form (e.g webpage or handbook). 
The target audience of these documentation will be musicians, and non-technical but interested end-users.  